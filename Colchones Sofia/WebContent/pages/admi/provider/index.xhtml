<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<!--          -->
<!-- TEMPLATE -->
<!--          -->
<ui:composition
	template="../../../template/advanced/template-advaced-admi.xhtml">

	<ui:define name="title-advaced">
			| Proveedor 
	</ui:define>

	<ui:define name="component-statu-advaced">
		<p:menuitem value="Home" url="../index.xhtml" />
		<p:menuitem value="Proveedor" url="index.xhtml" disabled="none" />
	</ui:define>

	<ui:define name="component-title-img-advaced">
		<h:graphicImage library="img" name="all/provider.jpg"
			styleClass="sofia-image-80 sofia-image-dark" />
	</ui:define>
	<ui:define name="component-title-h1-advaced">Proveedor</ui:define>
	<ui:define name="component-title-h2-advaced">Inicio</ui:define>

	<ui:define name="component-other-advaced">
		<p:fieldset legend="Estadisticas" toggleable="true" toggleSpeed="500">
			<p:tabView>

				<!--         -->
				<!-- REPORST -->
				<!--         -->
				<p:tab title="Reportes">
					<h:panelGroup layout="block">

						<!--      -->
						<!-- DATE -->
						<!--      -->
						<p:fieldset legend="Fechas" toggleable="true" toggleSpeed="500">
							<h:panelGroup layout="block"
								styleClass="ui-fluid p-formgrid p-d-flex p-jc-between p-ac-center">
								<!--           -->
								<!-- DATE STAR -->
								<!--           -->
								<h:panelGroup layout="block" styleClass="p-field p-col p-md-4">
									<p:outputLabel for="fecha-inicio" value="Fecha Inicio:" />
									<p:datePicker id="fecha-inicio" required="true"
										requiredMessage="El campo fecha inicio no puede estar vacia."
										value="#{reporte.fecha_inicio}">
									</p:datePicker>
								</h:panelGroup>

								<!--          -->
								<!-- DATE END -->
								<!--          -->
								<h:panelGroup layout="block" styleClass="p-field p-col p-md-4">
									<p:outputLabel for="fecha-fin" value="Fecha Fin:" />
									<p:datePicker id="fecha-fin" required="true"
										requiredMessage="El campo fecha fin no puede estar vacia."
										value="#{reporte.fecha_fin}">
									</p:datePicker>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center p-mb-3">
								<p:commandButton update="@(.sofia-container-main-update)"
									styleClass="sofia-button-succes"
									action="#{reporte.consultarProveedor()}" value="Consultar" />
							</h:panelGroup>
						</p:fieldset>
					</h:panelGroup>

					<!--           -->
					<!-- DATA VIEW -->
					<!--           -->
					<p:dataTable rendered="#{reporte.proveedores.size() > 0}" var="p"
						value="#{reporte.proveedores}" widgetVar="sofia-table-update"
						id="sofia-table-update"
						emptyMessage="No se encontro ningun proveedor."
						filteredValue="#{reporte.proveedor_filter}"
						paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} 
								         {CurrentPageReport} {NextPageLink} {LastPageLink}"
						paginator="true" rows="20" rowIndexVar="index"
						rowsPerPageTemplate="5,10,15,20,50,100" reflow="true"
						scrollable="true" styleClass="p-mt-4">

						<!-- HEADER -->
						<f:facet name="header">
							<p:outputPanel layout="block"
								styleClass="p-d-flex p-jc-end p-ac-center">
								<h:outputText value="Buscar:" styleClass="p-mt-1 p-mr-2" />
								<p:inputText id="globalFilter"
									onkeyup="PF('sofia-table-update').filter()" />
							</p:outputPanel>
							<p:outputPanel layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center p-p-3">
								<h2>Proveedores</h2>
								<h4 class="p-as-end">(#{reporte.proveedores.size()}
									resultados)</h4>
							</p:outputPanel>
						</f:facet>

						<!--        -->
						<!-- COLUMN -->
						<!--        -->
						<p:column style="width:50px">
							<p:rowToggler />
							<h:panelGroup layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center">
								<h:outputLabel value="#{index + 1}" />
							</h:panelGroup>
						</p:column>


						<!-- ID -->
						<p:column filterBy="#{p.idProveedor}" sortBy="#{p.idProveedor}"
							footerText="ID" filterMatchMode="contains">
							<f:facet name="header">
								<h:outputText value="ID" />
							</f:facet>
							<h:panelGroup layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center">
								<h:outputText value="#{p.idProveedor}" />
							</h:panelGroup>
						</p:column>

						<!-- NAME -->
						<p:column filterBy="#{p.nombre}" footerText="Nombre"
							sortBy="#{p.nombre}">
							<f:facet name="header">
								<h:outputText value="Nombre" />
							</f:facet>
							<h:panelGroup layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center">
								<h:outputText value="#{p.nombre}" />
							</h:panelGroup>
						</p:column>

						<!-- PHONE -->
						<p:column filterBy="${p.telefono}" footerText="Telefono">
							<f:facet name="header">
								<h:outputText value="Telefono" />
							</f:facet>
							<h:panelGroup layout="block"
								styleClass="p-d-flex p-jc-center p-ac-center">
								<h:outputText value="#{p.telefono}" />
							</h:panelGroup>
						</p:column>
					</p:dataTable>
					
					<h:commandButton value="Exportar PDF"
						actionListener="#{reporte.exportarPDF}" />
						
				</p:tab>
			</p:tabView>
		</p:fieldset>
	</ui:define>
</ui:composition>
</html>